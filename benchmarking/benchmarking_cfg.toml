# Benchmarking configuration for torchquad
# Adjust these parameters to control benchmark execution time and detail

[general]
device_info = "RTX 4060 Ti 16GB, i5-13400F"
precision = "float32"
save_path = "resources"
log_level = "INFO"

[convergence]
# Enable/disable specific dimensions
enable_1d = true
enable_3d = true
enable_7d = true
enable_15d = true

# Reference calculation points (for MC reference)
reference_points_1d = 256_000_000
reference_points_3d = 256_000_000
reference_points_7d = 500_000_000
reference_points_15d = 333_000_000

# Evaluation points for each dimension
# Adjust these to control execution time
[convergence.points_1d]
simpson = [10_000, 100_000, 1_000_000, 10_000_000, 100_000_000]
gauss_legendre = [100, 500, 1000, 5000]
monte_carlo = [10_000, 100_000, 1_000_000, 10_000_000, 100_000_000, 500_000_000]
vegas = [100_000, 1_000_000, 10_000_000, 100_000_000]
scipy_grids = [10001, 100_001, 1_000_001]

[convergence.points_3d]
simpson = [10_000, 100_000, 1_000_000, 10_000_000, 100_000_000]
gauss_legendre = [100, 500, 1000, 5000]
monte_carlo = [10_000, 100_000, 1_000_000, 10_000_000, 100_000_000, 250_000_000]
vegas = [100_000, 1_000_000, 10_000_000, 100_000_000, 250_000_000]

[convergence.points_7d]
simpson = [10_000, 100_000, 1_000_000, 10_000_000, 100_000_000]
gauss_legendre = [1000, 5000, 10000, 50000, 100000, 500_000]
monte_carlo = [
    10_000,
    100_000,
    1_000_000,
    10_000_000,
    50_000_000,
    100_000_000,
    150_000_000,
]
vegas = [100_000, 1_000_000, 10_000_000, 100_000_000, 250_000_000]

[convergence.points_15d]
simpson = [10_000, 100_000, 1_000_000, 10_000_000, 100_000_000, 250_000_000]
gauss_legendre = [50000, 100000, 500_000, 1_000_000]
monte_carlo = [10_000, 100_000, 1_000_000, 10_000_000, 100_000_000, 150_000_000]
vegas = [100_000, 1_000_000, 10_000_000, 100_000_000, 250_000_000, 300_000_000]

[scaling]
# Strong scaling configuration
strong_batch_sizes = [10000, 25000, 50000, 100000, 150000, 250000, 500000]
strong_total_work_1d = 1_000_000
strong_total_work_3d = 1_000_000

# Weak scaling configuration
weak_work_per_dim = [1_000_000, 100, 1]
weak_mc_constant_work = 1_000_000

# Number of runs for error estimation
num_runs = 3
warmup_runs = 1

[vectorized]
grid_sizes = [1, 5, 20, 50, 100, 200]
num_runs = 3
integration_points = 10001

[scipy]
# scipy integration tolerances for high dimensions
nquad_limit_1d = 200
nquad_limit_3d = 5
nquad_limit_7d = 2
nquad_limit_15d = 1
nquad_epsabs = 1e-2
nquad_epsrel = 1e-2
nquad_epsabs_15d = 1e-3
nquad_epsrel_15d = 1e-3

[timeouts]
# Maximum time in seconds for each benchmark component
max_time_per_method = 300 # 5 minutes per method
max_time_total = 1800     # 30 minutes total
